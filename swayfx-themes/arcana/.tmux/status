# Wayland clipboard
set -s copy-command 'wl-copy'

# clip vim
#bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy && wl-paste -n | wl-copy -p"
#bind-key p run "wl-paste -n | tmux load-buffer - ; tmux paste-buffer"
# Wayland, Ctrl+a+v (copy mode), press y for copy. Alt+p for paste
# https://www.rockyourcode.com/copy-and-paste-in-tmux/
#set-option -s set-clipboard off
bind P paste-buffer
bind-key -T copy-mode-vi 'v' send-keys -X begin-selection
bind-key -T copy-mode-vi 'y' send-keys -X copy-pipe "wl-copy"
#bind-key -T copy-mode-vi V send-keys -X rectangle-toggle
#unbind -T copy-mode-vi Enter
#bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'wl-copy'
#bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'wl-copy'
#bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'wl-copy'

# Mode indicator 
set -g @mode_indicator_prefix_prompt "WAIT"
set -g @mode_indicator_prefix_mode_style fg=blue,bold
set -g @mode_indicator_copy_prompt "COPY"
set -g @mode_indicator_copy_mode_style fg=green,bold
set -g @mode_indicator_sync_prompt "SYNC"
set -g @mode_indicator_sync_mode_style fg=red,bold
set -g @mode_indicator_empty_prompt "TMUX"
set -g @mode_indicator_empty_mode_style fg=purple,bold

# Configure the catppuccin plugin
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"

# status line
set -gF status-style "bg=#101418,fg=#E0E2E8"

# Customize plugins colors

# App
set -gF @catppuccin_status_application_icon_bg "#181C20"
set -g @catppuccin_status_application_icon_fg "#FFB4AB"
set -gF @catppuccin_status_application_text_bg "#181C20"
set -g @catppuccin_status_application_text_fg "#FFB4AB"

# Session
set -gF @catppuccin_status_session_icon_bg "#181C20"
set -gF @catppuccin_status_session_icon_fg "#81D3DE"
set -gF @catppuccin_status_session_text_bg "#181C20"
set -gF @catppuccin_status_session_text_fg "#81D3DE"

# Uptime
set -gF @catppuccin_status_uptime_text_bg "#181C20"
set -gF @catppuccin_status_uptime_text_fg "#C8BFFF"
set -gF @catppuccin_status_uptime_icon_bg "#181C20"
set -gF @catppuccin_status_uptime_icon_fg "#C8BFFF"

# Directory
set -gF @catppuccin_status_directory_text_bg "#181C20"
set -gF @catppuccin_status_directory_text_fg "#E1B7F5"
set -g @catppuccin_status_directory_icon_bg "#181C20"
set -g @catppuccin_status_directory_icon_fg "#E1B7F5"

# Load catppuccin
run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# Current
set -g status-justify centre
set -gF window-status-format "#[bg=#181C20,fg=#E0E2E8]##I:##T"
set -gF window-status-current-format "#[bg=#181C20,fg=cyan,bold]##I:#[fg=cyan,bold]##T"

# Make the status line pretty and add some modules
set -g status-right-length 90
set -g status-left-length 90
set -g status-right ""
set -g status-left "#{tmux_mode_indicator}"
set -ag status-left "#{E:@catppuccin_status_application}"
set -ag status-left "#{E:@catppuccin_status_directory}"
set -ag status-right "#{E:@catppuccin_status_session}"
set -ag status-right "#{E:@catppuccin_status_uptime}"

run-shell ~/.config/tmux/plugins/tmux-mode-indicator/mode_indicator.tmux
